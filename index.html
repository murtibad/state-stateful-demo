<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Web geliÅŸtirmede DURUM (State) ve DURUMLU (Stateful) kavramlarÄ±nÄ±n 3 paralel API Ã§aÄŸrÄ±sÄ± ile gÃ¶sterimi - Mikro Mimari YapÄ±sÄ±">
    <title>DURUM (State) & DURUMLU (Stateful) Demo - Mikro Mimari</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Ã–ÄRENCÄ° BÄ°LGÄ°LERÄ° PANELÄ° -->
    <aside id="student-info-panel" class="student-panel">
        <h3>ğŸ“‹ Ã–ÄŸrenci Bilgileri</h3>
        <ul>
            <li><strong>Ad Soyad:</strong> Murat TokaÃ§</li>
            <li><strong>Ã–ÄŸrenci No:</strong> 25370201029</li>
            <li><strong>BÃ¶lÃ¼m:</strong> Arka YÃ¼z YazÄ±lÄ±m GeliÅŸtirme</li>
            <li><strong>Ders:</strong> Bulut BiliÅŸim Mimarileri</li>
            <li><strong>Ã–ÄŸretim GÃ¶revlisi:</strong> Ã–ÄŸr. GÃ¶r. Volkan Cantemir</li>
        </ul>
    </aside>

    <header>
        <h1>ğŸ”„ DURUM (State) & DURUMLU (Stateful) Demo</h1>
        <p class="subtitle">3 paralel API Ã§aÄŸrÄ±sÄ± ile durum yÃ¶netimi gÃ¶sterimi - Mikro Mimari YapÄ±sÄ±</p>
    </header>

    <main>
        <!-- BÃ–LÃœM A: Genel BakÄ±ÅŸ -->
        <section id="overview" class="card">
            <h2>ğŸ“š A) DURUM (State) ve DURUMLU (Stateful) Nedir?</h2>

            <div class="concept-box">
                <h3>ğŸ”¹ DURUM (State)</h3>
                <p><strong>"Durum (State)", uygulamanÄ±zÄ±n herhangi bir anda tuttuÄŸu mevcut veri/deÄŸerlerdir.</strong>
                </p>
                <p>Buna ÅŸunlar dahildir: kullanÄ±cÄ± girdileri, API'den Ã§ekilen veriler, yÃ¼kleniyor gÃ¶stergeleri, hata
                    mesajlarÄ±, zaman damgalarÄ±, sayaÃ§lar ve diÄŸer tÃ¼m dinamik deÄŸerler.</p>
                <p class="example">â¡ï¸ <em>Ã–rnek: AÅŸaÄŸÄ±daki sayaÃ§ deÄŸeri bir "durum (state)" parÃ§asÄ±dÄ±r. Åu anda
                        deÄŸiÅŸebilen bir sayÄ± gÃ¶steriyor.</em></p>
            </div>

            <div class="concept-box">
                <h3>ğŸ”¹ DURUMLU (Stateful)</h3>
                <p><strong>"Durumlu (Stateful)", uygulamanÄ±n durum deÄŸiÅŸikliklerini HATIRLAYIP bunlara TEPKÄ° VERMESÄ°
                        demektir.</strong></p>
                <p>Durumlu bir bileÅŸen/sayfa, durum deÄŸiÅŸtiÄŸinde gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ gÃ¼nceller ve kullanÄ±cÄ± etkileÅŸimleri
                    arasÄ±nda deÄŸerleri saklayabilir.</p>
                <p class="example">â¡ï¸ <em>Ã–rnek: AÅŸaÄŸÄ±daki ÅŸehir seÃ§ici "durumlu (stateful)"dÄ±r Ã§Ã¼nkÃ¼ seÃ§imi hatÄ±rlar ve
                        hava durumu API'sini buna gÃ¶re gÃ¼nceller.</em></p>
            </div>
        </section>

        <!-- BÃ–LÃœM B: Durumlu Kontroller -->
        <section id="stateful-controls" class="card">
            <h2>ğŸ® B) DURUMLU (Stateful) Kontroller</h2>
            <p class="section-description">Bu kontroller uygulamanÄ±n DURUMUNU (State) deÄŸiÅŸtirir. "Durum DenetÃ§isi"
                panelinin gerÃ§ek zamanlÄ± gÃ¼ncellenmesini izleyin!</p>

            <div class="controls-grid">
                <!-- SayaÃ§ -->
                <div class="control-item">
                    <h4>SayaÃ§ (Durum DeÄŸiÅŸkeni)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>counter</code> bir sayÄ± deÄŸeri tutar</p>
                    <div class="counter-controls">
                        <button id="btn-decrement" class="btn">âˆ’</button>
                        <span id="counter-display" class="counter-value">0</span>
                        <button id="btn-increment" class="btn">+</button>
                    </div>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: tÄ±klamalar arasÄ±nda sayÄ±yÄ± hatÄ±rlar</p>
                </div>

                <!-- Tema SeÃ§ici -->
                <div class="control-item">
                    <h4>Tema SeÃ§ici (Durum DeÄŸiÅŸkeni)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>theme</code> "aÃ§Ä±k" veya "koyu" deÄŸerini
                        saklar</p>
                    <select id="theme-selector" class="select-input">
                        <option value="light">â˜€ï¸ AÃ§Ä±k Tema</option>
                        <option value="dark">ğŸŒ™ Koyu Tema</option>
                    </select>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: tema seÃ§iminizi hatÄ±rlar</p>
                </div>

                <!-- Åehir SeÃ§ici (YENÄ° - STATEFUL) -->
                <div class="control-item city-selector-box">
                    <h4>ğŸŒ Åehir SeÃ§ici (DURUMLU)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>selectedCity</code> seÃ§ilen ÅŸehri saklar</p>
                    <select id="city-selector" class="select-input">
                        <option value="istanbul">ğŸ‡¹ğŸ‡· Ä°stanbul</option>
                        <option value="ankara">ğŸ‡¹ğŸ‡· Ankara</option>
                        <option value="izmir">ğŸ‡¹ğŸ‡· Ä°zmir</option>
                        <option value="berlin">ğŸ‡©ğŸ‡ª Berlin</option>
                        <option value="london">ğŸ‡¬ğŸ‡§ Londra</option>
                        <option value="paris">ğŸ‡«ğŸ‡· Paris</option>
                    </select>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: ÅŸehir deÄŸiÅŸtiÄŸinde hava durumu API'si otomatik
                        gÃ¼ncellenir</p>
                </div>

                <!-- Otomatik Yenileme DÃ¼ÄŸmesi -->
                <div class="control-item">
                    <h4>Otomatik Yenileme (Durum DeÄŸiÅŸkeni)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>autoRefresh.enabled</code> true/false deÄŸeri
                        alÄ±r</p>
                    <label class="toggle-label">
                        <input type="checkbox" id="auto-refresh-toggle">
                        <span>Her 30 saniyede otomatik yenile</span>
                    </label>
                    <p id="next-refresh-display" class="timer-display"></p>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: bir zamanlayÄ±cÄ± kontrol eder ve ayarÄ± hatÄ±rlar
                    </p>
                </div>

                <!-- Ã‡ekim Kontrolleri -->
                <div class="control-item fetch-controls">
                    <h4>API Ã‡ekim Tetikleyici</h4>
                    <button id="btn-fetch-all" class="btn btn-primary btn-large">
                        ğŸš€ Hepsini Ã‡ek (3 API Paralel)
                    </button>
                    <p class="fetch-hint">3 API'ye eÅŸzamanlÄ± istek gÃ¶ndermek iÃ§in tÄ±klayÄ±n</p>
                </div>
            </div>
        </section>

        <!-- BÃ–LÃœM C: API Kontrol Paneli -->
        <section id="api-dashboard" class="card">
            <h2>ğŸ“¡ C) Paralel API Ã‡ekim Paneli</h2>
            <p class="section-description">3 API'nin hepsi <code>Promise.allSettled()</code> kullanÄ±larak
                <strong>eÅŸzamanlÄ±</strong> olarak Ã§ekilir. Her kart kendi yÃ¼kleniyor/baÅŸarÄ±lÄ±/hata durumunu gÃ¶sterir.
            </p>

            <div class="api-grid">
                <!-- API 1: Random User (KullanÄ±cÄ± Listesi) -->
                <div class="api-card" id="api-users">
                    <div class="api-header">
                        <h4>ğŸ‘¥ Random User API (KullanÄ±cÄ± Listesi)</h4>
                        <span class="status-badge" id="status-users">Ã‡ekilmedi</span>
                    </div>
                    <div class="api-content" id="content-users">
                        <p class="placeholder-text">Veri yÃ¼klemek iÃ§in "Hepsini Ã‡ek" butonuna tÄ±klayÄ±n...</p>
                    </div>
                    <div class="api-meta">
                        <small>Son Ã§ekim: <span id="time-users">HenÃ¼z hiÃ§</span></small>
                    </div>
                </div>

                <!-- API 2: Open-Meteo Hava Durumu -->
                <div class="api-card" id="api-weather">
                    <div class="api-header">
                        <h4>ğŸŒ¤ï¸ Open-Meteo Hava Durumu</h4>
                        <span class="status-badge" id="status-weather">Ã‡ekilmedi</span>
                    </div>
                    <div class="api-content" id="content-weather">
                        <p class="placeholder-text">Veri yÃ¼klemek iÃ§in "Hepsini Ã‡ek" butonuna tÄ±klayÄ±n...</p>
                    </div>
                    <div class="api-meta">
                        <small>Son Ã§ekim: <span id="time-weather">HenÃ¼z hiÃ§</span></small>
                    </div>
                </div>

                <!-- API 3: Baba FÄ±kralarÄ± -->
                <div class="api-card" id="api-jokes">
                    <div class="api-header">
                        <h4>ğŸ˜‚ ICanHazDadJoke (FÄ±kralar)</h4>
                        <span class="status-badge" id="status-jokes">Ã‡ekilmedi</span>
                    </div>
                    <div class="api-content" id="content-jokes">
                        <p class="placeholder-text">Veri yÃ¼klemek iÃ§in "Hepsini Ã‡ek" butonuna tÄ±klayÄ±n...</p>
                    </div>
                    <div class="api-meta">
                        <small>Son Ã§ekim: <span id="time-jokes">HenÃ¼z hiÃ§</span></small>
                    </div>
                </div>
            </div>

            <!-- Genel Durum -->
            <div class="global-status">
                <strong>Genel Ã‡ekim Durumu:</strong>
                <span id="global-status">BoÅŸta</span>
                <span id="fetch-count">(Toplam Ã§ekim sayÄ±sÄ±: 0)</span>
            </div>
        </section>

        <!-- BÃ–LÃœM D: State KalÄ±cÄ±lÄ±ÄŸÄ± (Persistence) -->
        <section id="persistence-section" class="card persistence-card">
            <h2>ğŸ’¾ D) State KalÄ±cÄ±lÄ±ÄŸÄ± (Persistence)</h2>
            <p class="section-description">Bu bÃ¶lÃ¼m, state'in tarayÄ±cÄ±da <strong>kalÄ±cÄ±</strong> olarak saklanmasÄ±nÄ±
                gÃ¶sterir. localStorage kullanÄ±lÄ±r.</p>

            <div class="persistence-explanation">
                <div class="concept-box">
                    <h3>ğŸ”¹ KalÄ±cÄ±lÄ±k Neden Ã–nemli?</h3>
                    <ul>
                        <li><strong>"Veriyi Kaydet"</strong> butonu mevcut state'i localStorage'a kaydeder</li>
                        <li>Sayfa <strong>F5 ile yenilendiÄŸinde</strong> state geri yÃ¼klenir</li>
                        <li>SeÃ§ilen <strong>ÅŸehir</strong>, <strong>sayaÃ§</strong>, <strong>API verileri</strong>
                            korunur</li>
                        <li><strong>"State'i SÄ±fÄ±rla"</strong> butonu ile baÅŸlangÄ±Ã§ haline dÃ¶nÃ¼lÃ¼r</li>
                    </ul>
                </div>
                <div class="concept-box">
                    <h3>ğŸ”¹ Stateful DavranÄ±ÅŸ KanÄ±tÄ±</h3>
                    <p>Bu Ã¶zellik, uygulamanÄ±n <strong>durumlu (stateful)</strong> olduÄŸunun en gÃ¼Ã§lÃ¼ kanÄ±tÄ±dÄ±r:</p>
                    <ul>
                        <li>TarayÄ±cÄ± kapansa bile state korunur</li>
                        <li>KullanÄ±cÄ± tercihleri (ÅŸehir, tema) hatÄ±rlanÄ±r</li>
                        <li>API verileri Ã¶nbellekte saklanÄ±r</li>
                    </ul>
                </div>
            </div>

            <div class="persistence-controls">
                <button id="btn-save-state" class="btn btn-success">
                    ğŸ’¾ Veriyi Kaydet
                </button>
                <button id="btn-reset-state" class="btn btn-danger">
                    ğŸ—‘ï¸ State'i SÄ±fÄ±rla
                </button>
            </div>
            <p id="persistence-status" class="persistence-status"></p>
        </section>

        <!-- BÃ–LÃœM E: Durum DenetÃ§isi -->
        <section id="state-inspector" class="card">
            <h2>ğŸ” E) DURUM (State) DenetÃ§isi (CanlÄ± JSON GÃ¶rÃ¼nÃ¼mÃ¼)</h2>
            <p class="section-description">Bu panel, <strong>tÃ¼m uygulama durumunu (state)</strong> gerÃ§ek zamanlÄ±
                gÃ¼ncellenen bir JSON nesnesi olarak gÃ¶sterir. YukarÄ±daki kontrollerle etkileÅŸim kurduÄŸunuzda deÄŸiÅŸmesini
                izleyin!</p>
            <p class="inspector-note">âš¡ Bu, uygulamanÄ±n DURUMLU (Stateful) olduÄŸunu kanÄ±tlar: herhangi bir deÄŸer
                deÄŸiÅŸtiÄŸinde aÅŸaÄŸÄ±daki durum (state) nesnesi gerÃ§ek zamanlÄ± olarak gÃ¼ncellenir.</p>

            <div class="state-display">
                <pre id="state-json">{}</pre>
            </div>
        </section>

        <!-- BÃ–LÃœM F: Mikro Mimari AÃ§Ä±klamasÄ± -->
        <section id="micro-architecture" class="card architecture-section">
            <h2>ğŸ—ï¸ F) Mikro Mimari (ModÃ¼ler YapÄ±) AÃ§Ä±klamasÄ±</h2>
            <p class="section-description">Bu proje, <strong>mikro mimari</strong> (modÃ¼ler yapÄ±) prensiplerine gÃ¶re
                tasarlanmÄ±ÅŸtÄ±r. Tek bir monolitik dosya yerine, sorumluluklar farklÄ± katmanlara ayrÄ±lmÄ±ÅŸtÄ±r.</p>

            <div class="architecture-diagram">
                <pre class="folder-structure">
ğŸ“ 3api+statestatefull/
â”œâ”€â”€ ğŸ“ apis/                      â† API KatmanÄ± (Veri KaynaklarÄ±)
â”‚   â”œâ”€â”€ randomUserApi.js          â†’ KullanÄ±cÄ± listesi verisi
â”‚   â”œâ”€â”€ weatherApi.js             â†’ Hava durumu + ÅŸehir seÃ§imi
â”‚   â””â”€â”€ jokeApi.js                â†’ FÄ±kra API'si
â”‚
â”œâ”€â”€ ğŸ“ state/                     â† Durum YÃ¶netimi KatmanÄ±
â”‚   â””â”€â”€ appState.js               â†’ Merkezi state + getter/setter
â”‚
â”œâ”€â”€ ğŸ“ ui/                        â† UI / GÃ¶rÃ¼nÃ¼m KatmanÄ±
â”‚   â”œâ”€â”€ renderCards.js            â†’ API kartlarÄ±nÄ± Ã§izer
â”‚   â””â”€â”€ renderStateInspector.js   â†’ Durum denetÃ§isini Ã§izer
â”‚
â”œâ”€â”€ ğŸ“ persistence/               â† KalÄ±cÄ±lÄ±k KatmanÄ±
â”‚   â””â”€â”€ storage.js                â†’ localStorage iÅŸlemleri
â”‚
â”œâ”€â”€ main.js                       â† KontrolcÃ¼ / Orkestrasyon
â”œâ”€â”€ index.html, styles.css, README.md
                </pre>
            </div>

            <div class="architecture-explanation">
                <h4>ğŸ”¹ Neden API'ler AyrÄ± Dosyalarda?</h4>
                <ul>
                    <li><strong>Tek Sorumluluk:</strong> Her dosya sadece bir API ile ilgilenir</li>
                    <li><strong>BakÄ±m KolaylÄ±ÄŸÄ±:</strong> Bir API deÄŸiÅŸirse sadece o dosya gÃ¼ncellenir</li>
                    <li><strong>Test Edilebilirlik:</strong> Her API baÄŸÄ±msÄ±z olarak test edilebilir</li>
                </ul>

                <h4>ğŸ”¹ Neden Persistence AyrÄ± Katmanda?</h4>
                <ul>
                    <li><strong>Ä°zolasyon:</strong> localStorage mantÄ±ÄŸÄ± UI'dan ayrÄ±</li>
                    <li><strong>DeÄŸiÅŸtirilebilirlik:</strong> Ä°leride IndexedDB'ye geÃ§iÅŸ kolay</li>
                </ul>
            </div>

            <div class="layer-summary">
                <table class="layer-table">
                    <thead>
                        <tr>
                            <th>Katman</th>
                            <th>Dosyalar</th>
                            <th>Sorumluluk</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>API</strong></td>
                            <td><code>apis/*.js</code></td>
                            <td>DÄ±ÅŸ kaynaklardan veri Ã§ekme</td>
                        </tr>
                        <tr>
                            <td><strong>State</strong></td>
                            <td><code>state/appState.js</code></td>
                            <td>Uygulama verilerini saklama</td>
                        </tr>
                        <tr>
                            <td><strong>UI</strong></td>
                            <td><code>ui/*.js</code></td>
                            <td>Ekrana Ã§izim yapma</td>
                        </tr>
                        <tr>
                            <td><strong>Persistence</strong></td>
                            <td><code>persistence/*.js</code></td>
                            <td>localStorage iÅŸlemleri</td>
                        </tr>
                        <tr>
                            <td><strong>Controller</strong></td>
                            <td><code>main.js</code></td>
                            <td>KatmanlarÄ± koordine etme</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- BÃ–LÃœM G: KullanÄ±lan API'ler -->
        <section id="apis-used" class="card">
            <h2>ğŸ“‹ G) KullanÄ±lan API'ler</h2>
            <p class="section-description">Bu demoda kullanÄ±lan 3 Ã¼cretsiz genel API'nin dokÃ¼mantasyonu:</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>API AdÄ±</th>
                        <th>Endpoint URL</th>
                        <th>GÃ¶sterilen Veri</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Random User</strong></td>
                        <td><code>randomuser.me/api/?results=5</code></td>
                        <td>5 adet rastgele kullanÄ±cÄ± profili (isim, e-posta, Ã¼lke)</td>
                    </tr>
                    <tr>
                        <td><strong>Open-Meteo</strong></td>
                        <td><code>api.open-meteo.com/v1/forecast</code></td>
                        <td>SeÃ§ilen ÅŸehir iÃ§in anlÄ±k hava durumu (sÄ±caklÄ±k, rÃ¼zgar)</td>
                    </tr>
                    <tr>
                        <td><strong>ICanHazDadJoke</strong></td>
                        <td><code>icanhazdadjoke.com</code></td>
                        <td>Rastgele bir baba fÄ±krasÄ± (Ä°ngilizce)</td>
                    </tr>
                </tbody>
            </table>

            <div class="api-notes">
                <h4>Teknik Notlar:</h4>
                <ul>
                    <li>3 API'nin hepsi <code>Promise.allSettled()</code> ile <strong>paralel</strong> Ã§ekilir</li>
                    <li><code>AbortController</code> ile devam eden istekler iptal edilebilir</li>
                    <li>Åehir deÄŸiÅŸtiÄŸinde sadece hava durumu API'si yeniden Ã§aÄŸrÄ±lÄ±r</li>
                    <li>State kalÄ±cÄ±lÄ±ÄŸÄ± iÃ§in <code>localStorage</code> kullanÄ±lÄ±r</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p>EÄŸitim amaÃ§lÄ± oluÅŸturulmuÅŸtur | DURUM (State) & DURUMLU (Stateful) + Mikro Mimari | GitHub Pages</p>
    </footer>

    <!-- ES ModÃ¼lleri kullanarak ana kontrolcÃ¼yÃ¼ yÃ¼kle -->
    <script type="module" src="main.js"></script>
</body>

</html>