<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Web geliÅŸtirmede DURUM (State) ve DURUMLU (Stateful) kavramlarÄ±nÄ±n 3 paralel API Ã§aÄŸrÄ±sÄ± ile gÃ¶sterimi - Mikro Mimari YapÄ±sÄ±">
    <title>DURUM (State) & DURUMLU (Stateful) Demo - Mikro Mimari</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Ã–ÄRENCÄ° BÄ°LGÄ°LERÄ° PANELÄ° -->
    <aside id="student-info-panel" class="student-panel">
        <h3>ğŸ“‹ Ã–ÄŸrenci Bilgileri</h3>
        <ul>
            <li><strong>Ad Soyad:</strong> Murat TokaÃ§</li>
            <li><strong>Ã–ÄŸrenci No:</strong> 25370201029</li>
            <li><strong>BÃ¶lÃ¼m:</strong> Arka YÃ¼z YazÄ±lÄ±m GeliÅŸtirme</li>
            <li><strong>Ders:</strong> Bulut BiliÅŸim Mimarileri</li>
            <li><strong>Ã–ÄŸretim GÃ¶revlisi:</strong> Ã–ÄŸr. GÃ¶r. Volkan Cantemir</li>
        </ul>
    </aside>

    <header>
        <h1>ğŸ”„ DURUM (State) & DURUMLU (Stateful) Demo</h1>
        <p class="subtitle">3 paralel API Ã§aÄŸrÄ±sÄ± ile durum yÃ¶netimi gÃ¶sterimi - Mikro Mimari YapÄ±sÄ±</p>
    </header>

    <main>
        <!-- BÃ–LÃœM A: Genel BakÄ±ÅŸ -->
        <section id="overview" class="card">
            <h2>ğŸ“š A) DURUM (State) ve DURUMLU (Stateful) Nedir?</h2>

            <div class="concept-box">
                <h3>ğŸ”¹ DURUM (State)</h3>
                <p><strong>"Durum (State)", uygulamanÄ±zÄ±n herhangi bir anda tuttuÄŸu mevcut veri/deÄŸerlerdir.</strong>
                </p>
                <p>Buna ÅŸunlar dahildir: kullanÄ±cÄ± girdileri, API'den Ã§ekilen veriler, yÃ¼kleniyor gÃ¶stergeleri, hata
                    mesajlarÄ±, zaman damgalarÄ±, sayaÃ§lar ve diÄŸer tÃ¼m dinamik deÄŸerler.</p>
                <p class="example">â¡ï¸ <em>Ã–rnek: AÅŸaÄŸÄ±daki sayaÃ§ deÄŸeri bir "durum (state)" parÃ§asÄ±dÄ±r. Åu anda
                        deÄŸiÅŸebilen bir sayÄ± gÃ¶steriyor.</em></p>
            </div>

            <div class="concept-box">
                <h3>ğŸ”¹ DURUMLU (Stateful)</h3>
                <p><strong>"Durumlu (Stateful)", uygulamanÄ±n durum deÄŸiÅŸikliklerini HATIRLAYIP bunlara TEPKÄ° VERMESÄ°
                        demektir.</strong></p>
                <p>Durumlu bir bileÅŸen/sayfa, durum deÄŸiÅŸtiÄŸinde gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ gÃ¼nceller ve kullanÄ±cÄ± etkileÅŸimleri
                    arasÄ±nda deÄŸerleri saklayabilir.</p>
                <p class="example">â¡ï¸ <em>Ã–rnek: AÅŸaÄŸÄ±daki otomatik yenileme dÃ¼ÄŸmesi "durumlu (stateful)"dÄ±r Ã§Ã¼nkÃ¼ aÃ§Ä±p
                        kapadÄ±ÄŸÄ±nÄ±zÄ± hatÄ±rlar ve uygulama bu hafÄ±zaya gÃ¶re farklÄ± davranÄ±r.</em></p>
            </div>
        </section>

        <!-- BÃ–LÃœM B: Durumlu Kontroller -->
        <section id="stateful-controls" class="card">
            <h2>ğŸ® B) DURUMLU (Stateful) Kontroller</h2>
            <p class="section-description">Bu kontroller uygulamanÄ±n DURUMUNU (State) deÄŸiÅŸtirir. "Durum DenetÃ§isi"
                panelinin gerÃ§ek zamanlÄ± gÃ¼ncellenmesini izleyin!</p>

            <div class="controls-grid">
                <!-- SayaÃ§ -->
                <div class="control-item">
                    <h4>SayaÃ§ (Durum DeÄŸiÅŸkeni)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>counter</code> bir sayÄ± deÄŸeri tutar</p>
                    <div class="counter-controls">
                        <button id="btn-decrement" class="btn">âˆ’</button>
                        <span id="counter-display" class="counter-value">0</span>
                        <button id="btn-increment" class="btn">+</button>
                    </div>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: tÄ±klamalar arasÄ±nda sayÄ±yÄ± hatÄ±rlar</p>
                </div>

                <!-- Tema SeÃ§ici -->
                <div class="control-item">
                    <h4>Tema SeÃ§ici (Durum DeÄŸiÅŸkeni)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>theme</code> "aÃ§Ä±k" veya "koyu" deÄŸerini
                        saklar</p>
                    <select id="theme-selector" class="select-input">
                        <option value="light">â˜€ï¸ AÃ§Ä±k Tema</option>
                        <option value="dark">ğŸŒ™ Koyu Tema</option>
                    </select>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: tema seÃ§iminizi hatÄ±rlar</p>
                </div>

                <!-- Otomatik Yenileme DÃ¼ÄŸmesi -->
                <div class="control-item">
                    <h4>Otomatik Yenileme (Durum DeÄŸiÅŸkeni)</h4>
                    <p class="explanation">Bu bir durumdur (state): <code>autoRefresh.enabled</code> true/false deÄŸeri
                        alÄ±r</p>
                    <label class="toggle-label">
                        <input type="checkbox" id="auto-refresh-toggle">
                        <span>Her 30 saniyede otomatik yenile</span>
                    </label>
                    <p id="next-refresh-display" class="timer-display"></p>
                    <p class="stateful-note">Durumlu (stateful) Ã§Ã¼nkÃ¼: bir zamanlayÄ±cÄ± kontrol eder ve ayarÄ± hatÄ±rlar
                    </p>
                </div>

                <!-- Ã‡ekim Kontrolleri -->
                <div class="control-item fetch-controls">
                    <h4>API Ã‡ekim Tetikleyici</h4>
                    <button id="btn-fetch-all" class="btn btn-primary btn-large">
                        ğŸš€ Hepsini Ã‡ek (3 API Paralel)
                    </button>
                    <p class="fetch-hint">3 API'ye eÅŸzamanlÄ± istek gÃ¶ndermek iÃ§in tÄ±klayÄ±n</p>
                </div>
            </div>
        </section>

        <!-- BÃ–LÃœM C: API Kontrol Paneli -->
        <section id="api-dashboard" class="card">
            <h2>ğŸ“¡ C) Paralel API Ã‡ekim Paneli</h2>
            <p class="section-description">3 API'nin hepsi <code>Promise.allSettled()</code> kullanÄ±larak
                <strong>eÅŸzamanlÄ±</strong> olarak Ã§ekilir. Her kart kendi yÃ¼kleniyor/baÅŸarÄ±lÄ±/hata durumunu gÃ¶sterir.
            </p>

            <div class="api-grid">
                <!-- API 1: JSONPlaceholder GÃ¶nderiler -->
                <div class="api-card" id="api-posts">
                    <div class="api-header">
                        <h4>ğŸ“ JSONPlaceholder GÃ¶nderiler</h4>
                        <span class="status-badge" id="status-posts">Ã‡ekilmedi</span>
                    </div>
                    <div class="api-content" id="content-posts">
                        <p class="placeholder-text">Veri yÃ¼klemek iÃ§in "Hepsini Ã‡ek" butonuna tÄ±klayÄ±n...</p>
                    </div>
                    <div class="api-meta">
                        <small>Son Ã§ekim: <span id="time-posts">HenÃ¼z hiÃ§</span></small>
                    </div>
                </div>

                <!-- API 2: Open-Meteo Hava Durumu -->
                <div class="api-card" id="api-weather">
                    <div class="api-header">
                        <h4>ğŸŒ¤ï¸ Open-Meteo Hava Durumu</h4>
                        <span class="status-badge" id="status-weather">Ã‡ekilmedi</span>
                    </div>
                    <div class="api-content" id="content-weather">
                        <p class="placeholder-text">Veri yÃ¼klemek iÃ§in "Hepsini Ã‡ek" butonuna tÄ±klayÄ±n...</p>
                    </div>
                    <div class="api-meta">
                        <small>Son Ã§ekim: <span id="time-weather">HenÃ¼z hiÃ§</span></small>
                    </div>
                </div>

                <!-- API 3: Baba FÄ±kralarÄ± -->
                <div class="api-card" id="api-jokes">
                    <div class="api-header">
                        <h4>ğŸ˜‚ ICanHazDadJoke (FÄ±kralar)</h4>
                        <span class="status-badge" id="status-jokes">Ã‡ekilmedi</span>
                    </div>
                    <div class="api-content" id="content-jokes">
                        <p class="placeholder-text">Veri yÃ¼klemek iÃ§in "Hepsini Ã‡ek" butonuna tÄ±klayÄ±n...</p>
                    </div>
                    <div class="api-meta">
                        <small>Son Ã§ekim: <span id="time-jokes">HenÃ¼z hiÃ§</span></small>
                    </div>
                </div>
            </div>

            <!-- Genel Durum -->
            <div class="global-status">
                <strong>Genel Ã‡ekim Durumu:</strong>
                <span id="global-status">BoÅŸta</span>
                <span id="fetch-count">(Toplam Ã§ekim sayÄ±sÄ±: 0)</span>
            </div>
        </section>

        <!-- BÃ–LÃœM D: Durum DenetÃ§isi -->
        <section id="state-inspector" class="card">
            <h2>ğŸ” D) DURUM (State) DenetÃ§isi (CanlÄ± JSON GÃ¶rÃ¼nÃ¼mÃ¼)</h2>
            <p class="section-description">Bu panel, <strong>tÃ¼m uygulama durumunu (state)</strong> gerÃ§ek zamanlÄ±
                gÃ¼ncellenen bir JSON nesnesi olarak gÃ¶sterir. YukarÄ±daki kontrollerle etkileÅŸim kurduÄŸunuzda deÄŸiÅŸmesini
                izleyin!</p>
            <p class="inspector-note">âš¡ Bu, uygulamanÄ±n DURUMLU (Stateful) olduÄŸunu kanÄ±tlar: herhangi bir deÄŸer
                deÄŸiÅŸtiÄŸinde aÅŸaÄŸÄ±daki durum (state) nesnesi gerÃ§ek zamanlÄ± olarak gÃ¼ncellenir.</p>

            <div class="state-display">
                <pre id="state-json">{}</pre>
            </div>
        </section>

        <!-- BÃ–LÃœM E: Mikro Mimari AÃ§Ä±klamasÄ± -->
        <section id="micro-architecture" class="card architecture-section">
            <h2>ğŸ—ï¸ E) Mikro Mimari (ModÃ¼ler YapÄ±) AÃ§Ä±klamasÄ±</h2>
            <p class="section-description">Bu proje, <strong>mikro mimari</strong> (modÃ¼ler yapÄ±) prensiplerine gÃ¶re
                tasarlanmÄ±ÅŸtÄ±r. Tek bir monolitik dosya yerine, sorumluluklar farklÄ± katmanlara ayrÄ±lmÄ±ÅŸtÄ±r.</p>

            <div class="architecture-diagram">
                <pre class="folder-structure">
ğŸ“ 3api+statestatefull/
â”œâ”€â”€ ğŸ“ apis/                      â† API KatmanÄ± (Veri KaynaklarÄ±)
â”‚   â”œâ”€â”€ jsonPlaceholderApi.js     â†’ Sadece JSONPlaceholder ile iletiÅŸim
â”‚   â”œâ”€â”€ weatherApi.js             â†’ Sadece Open-Meteo ile iletiÅŸim
â”‚   â””â”€â”€ jokeApi.js                â†’ Sadece ICanHazDadJoke ile iletiÅŸim
â”‚
â”œâ”€â”€ ğŸ“ state/                     â† Durum YÃ¶netimi KatmanÄ±
â”‚   â””â”€â”€ appState.js               â†’ Merkezi durum nesnesi ve gÃ¼ncelleme fonksiyonlarÄ±
â”‚
â”œâ”€â”€ ğŸ“ ui/                        â† UI / GÃ¶rÃ¼nÃ¼m KatmanÄ±
â”‚   â”œâ”€â”€ renderCards.js            â†’ API kartlarÄ±nÄ± ekrana Ã§izer
â”‚   â””â”€â”€ renderStateInspector.js   â†’ Durum denetÃ§isini ve sayaÃ§larÄ± Ã§izer
â”‚
â”œâ”€â”€ main.js                       â† KontrolcÃ¼ / Orkestrasyon KatmanÄ±
â”œâ”€â”€ index.html                    â†’ Ana HTML sayfasÄ±
â”œâ”€â”€ styles.css                    â†’ CSS stilleri
â””â”€â”€ README.md                     â†’ DokÃ¼mantasyon
                </pre>
            </div>

            <div class="architecture-explanation">
                <h4>ğŸ”¹ Neden API'ler AyrÄ± Dosyalarda?</h4>
                <p>Her API kendi dosyasÄ±nda izole edilmiÅŸtir Ã§Ã¼nkÃ¼:</p>
                <ul>
                    <li><strong>Tek Sorumluluk:</strong> Her dosya sadece bir API ile ilgilenir</li>
                    <li><strong>BakÄ±m KolaylÄ±ÄŸÄ±:</strong> Bir API deÄŸiÅŸirse sadece o dosya gÃ¼ncellenir</li>
                    <li><strong>Test Edilebilirlik:</strong> Her API baÄŸÄ±msÄ±z olarak test edilebilir</li>
                    <li><strong>Yeniden KullanÄ±labilirlik:</strong> API modÃ¼lleri baÅŸka projelerde kullanÄ±labilir</li>
                </ul>

                <h4>ğŸ”¹ Neden Durum (State) Merkezi?</h4>
                <p>TÃ¼m uygulama durumu tek bir yerde tutulur Ã§Ã¼nkÃ¼:</p>
                <ul>
                    <li><strong>Tek DoÄŸruluk KaynaÄŸÄ±:</strong> Durum tutarsÄ±zlÄ±klarÄ± Ã¶nlenir</li>
                    <li><strong>KontrollÃ¼ EriÅŸim:</strong> Durum sadece Ã¶zel fonksiyonlarla deÄŸiÅŸtirilir</li>
                    <li><strong>Hata AyÄ±klama:</strong> Durumu tek noktadan izlemek kolaydÄ±r</li>
                    <li><strong>Ã–ngÃ¶rÃ¼lebilirlik:</strong> Uygulama davranÄ±ÅŸÄ± tahmin edilebilir olur</li>
                </ul>

                <h4>ğŸ”¹ BakÄ±m ve Okunabilirlik NasÄ±l Ä°yileÅŸir?</h4>
                <p>ModÃ¼ler yapÄ± sayesinde:</p>
                <ul>
                    <li>Her dosya <strong>50-100 satÄ±r</strong> civarÄ±ndadÄ±r (anlaÅŸÄ±lmasÄ± kolay)</li>
                    <li>Yeni geliÅŸtirici projeyi hÄ±zlÄ±ca Ã¶ÄŸrenebilir</li>
                    <li>Hata bulma sÃ¼reci kÄ±salÄ±r (sorun hangi katmanda?)</li>
                    <li>Ekip Ã§alÄ±ÅŸmasÄ± kolaylaÅŸÄ±r (farklÄ± kiÅŸiler farklÄ± katmanlarda Ã§alÄ±ÅŸabilir)</li>
                </ul>
            </div>

            <div class="layer-summary">
                <table class="layer-table">
                    <thead>
                        <tr>
                            <th>Katman</th>
                            <th>Dosyalar</th>
                            <th>Sorumluluk</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>API</strong></td>
                            <td><code>apis/*.js</code></td>
                            <td>DÄ±ÅŸ kaynaklardan veri Ã§ekme</td>
                        </tr>
                        <tr>
                            <td><strong>State</strong></td>
                            <td><code>state/appState.js</code></td>
                            <td>Uygulama verilerini saklama ve yÃ¶netme</td>
                        </tr>
                        <tr>
                            <td><strong>UI</strong></td>
                            <td><code>ui/*.js</code></td>
                            <td>Ekrana Ã§izim yapma</td>
                        </tr>
                        <tr>
                            <td><strong>Controller</strong></td>
                            <td><code>main.js</code></td>
                            <td>KatmanlarÄ± koordine etme</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- BÃ–LÃœM F: KullanÄ±lan API'ler -->
        <section id="apis-used" class="card">
            <h2>ğŸ“‹ F) KullanÄ±lan API'ler</h2>
            <p class="section-description">Bu demoda kullanÄ±lan 3 Ã¼cretsiz genel API'nin dokÃ¼mantasyonu:</p>

            <table class="api-table">
                <thead>
                    <tr>
                        <th>API AdÄ±</th>
                        <th>Endpoint URL</th>
                        <th>GÃ¶sterilen Veri</th>
                        <th>Ne Zaman/NasÄ±l Ã‡ekilir</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>JSONPlaceholder</strong></td>
                        <td><code>https://jsonplaceholder.typicode.com/posts?_limit=5</code></td>
                        <td>5 adet sahte blog gÃ¶nderi baÅŸlÄ±ÄŸÄ± ve Ã¶zeti</td>
                        <td>"Hepsini Ã‡ek" tÄ±klandÄ±ÄŸÄ±nda, API anahtarÄ± gerekmeden <code>fetch()</code> ile Ã§ekilir</td>
                    </tr>
                    <tr>
                        <td><strong>Open-Meteo</strong></td>
                        <td><code>https://api.open-meteo.com/v1/forecast?latitude=41.01&longitude=28.95&current_weather=true</code>
                        </td>
                        <td>Ä°stanbul iÃ§in anlÄ±k hava durumu (sÄ±caklÄ±k, rÃ¼zgar hÄ±zÄ±, hava kodu)</td>
                        <td>"Hepsini Ã‡ek" tÄ±klandÄ±ÄŸÄ±nda, API anahtarÄ± gerekmeden <code>fetch()</code> ile Ã§ekilir</td>
                    </tr>
                    <tr>
                        <td><strong>ICanHazDadJoke</strong></td>
                        <td><code>https://icanhazdadjoke.com/</code></td>
                        <td>Rastgele bir baba fÄ±krasÄ± (Ä°ngilizce - API'den gelen orijinal veri)</td>
                        <td>"Hepsini Ã‡ek" tÄ±klandÄ±ÄŸÄ±nda, <code>Accept: application/json</code> baÅŸlÄ±ÄŸÄ± ile, API anahtarÄ±
                            gerekmeden <code>fetch()</code> ile Ã§ekilir</td>
                    </tr>
                </tbody>
            </table>

            <div class="api-notes">
                <h4>Teknik Notlar:</h4>
                <ul>
                    <li>3 API'nin hepsi <code>Promise.allSettled()</code> kullanÄ±larak <strong>paralel</strong> olarak
                        Ã§ekilir</li>
                    <li>HÄ±zlÄ± yeniden Ã§ekimlerde devam eden istekleri iptal etmek iÃ§in <code>AbortController</code>
                        kullanÄ±lÄ±r</li>
                    <li>Her API'nin yanÄ±tÄ±, <code>lastFetchedAt</code> zaman damgasÄ± ile birlikte durumda (state)
                        Ã¶nbelleÄŸe alÄ±nÄ±r</li>
                    <li>HÄ±z sÄ±nÄ±rlamasÄ± ve aÄŸ hatalarÄ±, hata mesajlarÄ± ile zarif bir ÅŸekilde iÅŸlenir</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p>EÄŸitim amaÃ§lÄ± oluÅŸturulmuÅŸtur | DURUM (State) & DURUMLU (Stateful) + Mikro Mimari | GitHub Pages DaÄŸÄ±tÄ±mÄ±</p>
    </footer>

    <!-- ES ModÃ¼lleri kullanarak ana kontrolcÃ¼yÃ¼ yÃ¼kle -->
    <script type="module" src="main.js"></script>
</body>

</html>